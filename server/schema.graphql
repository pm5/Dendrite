scalar DateTime

type Pathogen {
  id: ID!
  name: String!
  version: String!
  spreadDistanceInMeters: Float!
  spreadTimeInSeconds: Float!
  spreadRatio: Float!
}

type Vaccine {
  id: ID!
  name: String!
  version: String!
  generates: Antibody!
  effectiveAfterSeconds: Float!
}

type Antibody {
  id: ID!
  name: String!
  version: String!
  bindsTo: [Pathogen!]!
  expiresInSeconds: Float!
}

type Infection {
  pathogen: Pathogen!
  infectedAt: DateTime!
}

type Vaccination {
  vaccine: Vaccine!
  adminedAt: DateTime!
}

type Immunity {
  antibody: Antibody!
  expiresAt: DateTime!
}

type Citizen {
  id: ID!
  infections: [Infection!]!
  vaccinations: [Vaccination!]!
  immunities: [Immunity!]!
}

input ProximityObservation {
  citizen: ID!
  distanceInMeters: Float!
  measuredAt: DateTime!
}

type Query {
  allCitizens: [Citizen!]!
  citizen(id: ID): Citizen
  allPathogens: [Pathogen!]!
  allVaccines: [Vaccine!]!
  allAntibodies: [Antibody!]!
}

type Mutation {
  reportNeighbors(citizen: ID!, neighbors: [ProximityObservation!]!): [Citizen!]!
  vaccinate(citizen: ID!, vaccine: ID!): Citizen
}
